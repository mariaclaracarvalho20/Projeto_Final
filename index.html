<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Di√°rio Animado</title>
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#2F3C7E",
              secondary: "#D8D4F2",
              accent: "#A2D5AB",
              neutral: "#F7F7F7",
            },
            fontFamily: {
              sans: ["Poppins", "sans-serif"],
            },
            animation: {
              fadeIn: "fadeIn 1.2s ease-out forwards",
              bounceIn: "bounceIn 1s ease-out forwards",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: 0 },
                "100%": { opacity: 1 },
              },
              bounceIn: {
                "0%": { transform: "scale(0.9)", opacity: 0 },
                "60%": { transform: "scale(1.05)", opacity: 1 },
                "100%": { transform: "scale(1)" },
              },
            },
          },
        },
      };
    </script>
    
  </head>

  <body
    class="bg-gradient-to-br from-neutral to-secondary dark:from-gray-900 dark:to-gray-800 font-sans min-h-screen flex items-center justify-center px-4 transition-colors duration-500"
    id="mainBody"
  >
    <button
      id="themeToggle"
      class="absolute top-4 right-4 bg-primary text-white px-4 py-2 rounded-full shadow-md hover:bg-blue-900 transition"
    >
      üåô Modo Escuro
    </button>

    <!-- Tela inicial -->
    <div
      id="intro"
      class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 text-center animate-fadeIn max-w-md transition-all duration-300 transform hover:scale-[1.01]"
    >
      <img
        src="https://cdn-icons-png.flaticon.com/512/742/742751.png"
        alt="√çcone do di√°rio"
        class="mx-auto w-24 h-24 mb-6 animate-bounceIn drop-shadow-xl"
      />
      <h1 class="text-3xl text-primary dark:text-white font-bold mb-3">
        Ol√°, bem-vindo(a) ao Di√°rio Animado
      </h1>
      <p class="text-gray-700 dark:text-gray-300 mb-6 text-base">
        Um lugar seguro e moderno para registrar seus pensamentos, mem√≥rias e sonhos ‚ú®
      </p>
      <button
        id="startBtn"
        class="bg-accent hover:bg-green-400 text-primary font-medium py-2 px-6 rounded-full shadow-md transition transform hover:scale-105"
      >
        Come√ßar agora
      </button>
    </div>

    <!-- Formul√°rio de login -->
    <div
      id="loginForm"
      class="hidden bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 text-center max-w-md animate-fadeIn transition-all duration-300 transform hover:scale-[1.01]"
    >
      <h2 class="text-2xl text-primary dark:text-white font-bold mb-6">
        Login
      </h2>
      
      <div class="mb-4 relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
          </svg>
        </div>
        <input
          id="loginEmail"
          type="email"
          placeholder="Email"
          class="pl-10 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition"
        />
      </div>
      
      <div class="mb-6 relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
        </div>
        <input
          id="loginPassword"
          type="password"
          placeholder="Senha"
          class="pl-10 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition"
        />
      </div>
      
      <div class="flex justify-center gap-4">
        <button
          id="loginBtn"
          class="bg-primary text-white py-2 px-6 rounded-full hover:bg-blue-800 transition transform hover:scale-105"
        >
          Entrar
        </button>
        <button
          id="createAccountBtn"
          class="bg-primary text-white py-2 px-6 rounded-full hover:bg-blue-800 transition transform hover:scale-105"
        >
          Criar conta
        </button>
      </div>
      <button
        id="backBtn"
        class="mt-6 text-primary dark:text-white hover:underline text-sm"
      >
        ‚Üê Voltar √† p√°gina inicial
      </button>
    </div>

    <!-- Formul√°rio de registro - DESIGN ATUALIZADO -->
    <div
      id="registerForm"
      class="hidden bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-md animate-fadeIn transition-all duration-300 transform hover:scale-[1.01]"
    >
      <h2 class="text-2xl text-primary dark:text-white font-bold mb-6 text-center">
        Criar Conta
      </h2>
      
      <div class="mb-4 relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
          </svg>
        </div>
        <input
          id="registerName"
          type="text"
          placeholder="Nome completo"
          class="pl-10 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition"
          required
        >
      </div>
      
      <div class="mb-4 relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
          </svg>
        </div>
        <input
          id="registerEmail"
          type="email"
          placeholder="Email"
          class="pl-10 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition"
          required
        >
      </div>
      
      <div class="mb-6 relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <svg class="h-5 w-5 text-gray-400 dark:text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
        </div>
        <input
          id="registerPassword"
          type="password"
          placeholder="Senha"
          class="pl-10 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-black dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition"
          required
        >
      </div>
      
      <button
        id="registerBtn"
        type="button"
        class="w-full bg-primary text-white py-3 px-6 rounded-full hover:bg-blue-800 transition transform hover:scale-105"
      >
        Registrar
      </button>
      
      <button
        id="backToLoginBtn"
        class="mt-6 text-primary dark:text-white hover:underline text-sm w-full text-center"
      >
        ‚Üê Voltar ao login
      </button>
    </div>

    <!-- Dashboard do usu√°rio (simplificado) -->
    <div
      id="dashboard"
      class="hidden bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-md animate-fadeIn transition-all duration-300 transform hover:scale-[1.01]"
    >
      <h2 class="text-2xl text-primary dark:text-white font-bold mb-4 text-center">
        Bem-vindo(a), <span id="userName"></span>!
      </h2>
      <p class="text-gray-700 dark:text-gray-300 mb-6 text-center">
        Redirecionando para a p√°gina...
      </p>
    </div>

   

    <script>
      // Elementos
      const intro = document.getElementById("intro");
      const loginForm = document.getElementById("loginForm");
      const registerForm = document.getElementById("registerForm");
      const dashboard = document.getElementById("dashboard");
      const userNameSpan = document.getElementById("userName");

      // Bot√µes
      const startBtn = document.getElementById("startBtn");
      const themeToggle = document.getElementById("themeToggle");
      const loginBtn = document.getElementById("loginBtn");
      const createAccountBtn = document.getElementById("createAccountBtn");
      const backBtn = document.getElementById("backBtn");
      const registerBtn = document.getElementById("registerBtn");
      const backToLoginBtn = document.getElementById("backToLoginBtn");

      // Inputs
      const loginEmail = document.getElementById("loginEmail");
      const loginPassword = document.getElementById("loginPassword");
      const registerName = document.getElementById("registerName");
      const registerEmail = document.getElementById("registerEmail");
      const registerPassword = document.getElementById("registerPassword");

      // Dados do usu√°rio
      let currentUser = null;

      // Tema escuro/claro
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark");
        if (document.body.classList.contains("dark")) {
          themeToggle.textContent = "‚òÄÔ∏è Modo Claro";
          localStorage.setItem("theme", "dark");
        } else {
          themeToggle.textContent = "üåô Modo Escuro";
          localStorage.setItem("theme", "light");
        }
      });

      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark");
        themeToggle.textContent = "‚òÄÔ∏è Modo Claro";
      }

      // Navega√ß√£o
      startBtn.onclick = () => {
        intro.classList.add("hidden");
        loginForm.classList.remove("hidden");
      };

      backBtn.onclick = () => {
        loginForm.classList.add("hidden");
        intro.classList.remove("hidden");
      };

      createAccountBtn.onclick = () => {
        loginForm.classList.add("hidden");
        registerForm.classList.remove("hidden");
      };

      backToLoginBtn.onclick = () => {
        registerForm.classList.add("hidden");
        loginForm.classList.remove("hidden");
      };

      // Registrar usu√°rio
      registerBtn.onclick = async () => {
        const name = registerName.value.trim();
        const email = registerEmail.value.trim();
        const password = registerPassword.value.trim();

        if (!name || !email || !password) {
          alert("Por favor, preencha todos os campos.");
          return;
        }

        try {
          // Verifica se o usu√°rio j√° existe
          const users = JSON.parse(localStorage.getItem('diario_users') || '[]');
          const userExists = users.some(user => user.email === email);
          
          if (userExists) {
            alert("Este email j√° est√° cadastrado.");
            return;
          }

          // Cria novo usu√°rio
          const newUser = {
            id: Date.now().toString(),
            name,
            email,
            password,
            createdAt: new Date().toISOString()
          };

          users.push(newUser);
          localStorage.setItem('diario_users', JSON.stringify(users));

          alert("Conta criada com sucesso!");
          registerForm.classList.add("hidden");
          loginForm.classList.remove("hidden");

          registerName.value = "";
          registerEmail.value = "";
          registerPassword.value = "";
        } catch (error) {
          alert("Erro: " + error.message);
          console.error(error);
        }
      };

      // Login
      loginBtn.onclick = async () => {
        const email = loginEmail.value.trim();
        const password = loginPassword.value.trim();

        if (!email || !password) {
          alert("Por favor, preencha todos os campos.");
          return;
        }

        try {
          const users = JSON.parse(localStorage.getItem('diario_users') || '[]');
          const user = users.find(u => u.email === email && u.password === password);
          
          if (user) {
            currentUser = user;
            loginEmail.value = "";
            loginPassword.value = "";
            
           
            setTimeout(() => {
              window.location.href = "novo_registro.html";
            });
          } else {
            alert("Email ou senha incorretos.");
          }
        } catch (error) {
          alert("Erro: " + error.message);
          console.error(error);
        }
      };
    </script>
  </body>
</html>